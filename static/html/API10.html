<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API10:2023</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <script src="../js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <h1>API10:2023 - Unsafe Consumption of APIs</h1>
    <hr>
    <p>
        Developers tend to trust data received from third-party APIs more than user input, and so tend to adopt weaker security standards. In order to compromise APIs, attackers go after integrated third-party services instead of trying to compromise the target API directly.
    </p>

    <div>
        <h2>LAB Scenario</h2>
        <hr>
        <h5>Context:</h5>
        <p>
            A mobile weather application retrieves weather data from a third-party weather API.
            The mobile application code directly parses the JSON response received from the weather API.
        </p>
        <h5>Unsafe Consumption::</h5>
        <p>
            The mobile application fails to validate or sanitize the data received from the weather API.        </p>
        <h5>Attack Scenario:</h5>
        <ol>
            <li>API Compromise: An attacker gains temporary control over the weather API server.</li>
            <li>Malicious Data Injection: The attacker injects malicious code (like JavaScript) into the weather data response sent to the mobile application.</li>
        </ol>
        <h5>Impact:</h5>
        <p>
            When the mobile application parses the unvalidated response, the injected code might be executed within the application's environment. This could lead to various consequences depending on the attacker's intent:
        </p>
        <ul>
            <li>Data Theft: The injected code could steal user data like location information or login credentials from the mobile app.</li>
            <li>Denial-of-Service (DoS): The code could overload the mobile app with resource-intensive tasks, causing it to crash or become unresponsive.</li>
            <li>Further Attacks: The attacker might use the compromised mobile app as a launching point for attacks on other systems on the user's device. </li>
        </ul>
        <h5>Mitigation:</h5>
        <p>
            API Client Libraries: Utilize well-maintained client libraries provided by the weather API provider. These libraries often handle data parsing and validation securely.
            Input Validation: Implement mechanisms within the mobile application to validate the data received from the weather API. This could involve checking data types, expected formats, and removing unexpected elements.
            Data Sanitization: Sanitize the received data to remove potentially harmful code or characters before using it within the application.
            Regular Updates: Keep the mobile application and its dependencies updated to address potential vulnerabilities in the code or third-party libraries used.      
        </p> 
    </div>

</body>
</html>